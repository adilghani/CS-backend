{"version":3,"file":"index.js","names":["timeStamp","schema","add","createdAt","Date","updatedAt","pre","next","now","convertStringToHash","str","hash","i","chr","length","charCodeAt"],"sources":["../../../src/utils/helpers/index.js"],"sourcesContent":["const timeStamp = schema => {\r\n  schema.add({\r\n    createdAt: Date,\r\n    updatedAt: Date\r\n  });\r\n\r\n  schema.pre('save', function (next) {\r\n    const now = Date.now();\r\n\r\n    this.updatedAt = now;\r\n    if (!this.createdAt) {\r\n      this.createdAt = now;\r\n    }\r\n\r\n    next();\r\n  });\r\n  schema.pre('updateOne', function (next) {\r\n    const now = Date.now();\r\n\r\n    this.updatedAt = now;\r\n    if (!this.createdAt) {\r\n      this.createdAt = now;\r\n    }\r\n    next();\r\n  });\r\n};\r\n\r\n\r\nconst convertStringToHash = str => {\r\n  let hash = 0, i, chr;\r\n  if (this.length === 0) return hash;\r\n  for (i = 0; i < this.length; i++) {\r\n    chr   = this.charCodeAt(i);\r\n    hash  = ((hash << 5) - hash) + chr;\r\n    hash |= 0; // Convert to 32bit integer\r\n  }\r\n  return hash;\r\n};\r\n\r\nexport {\r\n  timeStamp,\r\n  convertStringToHash\r\n};\r\n"],"mappings":";;;;;;;AAAA,MAAMA,SAAS,GAAGC,MAAM,IAAI;EAC1BA,MAAM,CAACC,GAAP,CAAW;IACTC,SAAS,EAAEC,IADF;IAETC,SAAS,EAAED;EAFF,CAAX;EAKAH,MAAM,CAACK,GAAP,CAAW,MAAX,EAAmB,UAAUC,IAAV,EAAgB;IACjC,MAAMC,GAAG,GAAGJ,IAAI,CAACI,GAAL,EAAZ;IAEA,KAAKH,SAAL,GAAiBG,GAAjB;;IACA,IAAI,CAAC,KAAKL,SAAV,EAAqB;MACnB,KAAKA,SAAL,GAAiBK,GAAjB;IACD;;IAEDD,IAAI;EACL,CATD;EAUAN,MAAM,CAACK,GAAP,CAAW,WAAX,EAAwB,UAAUC,IAAV,EAAgB;IACtC,MAAMC,GAAG,GAAGJ,IAAI,CAACI,GAAL,EAAZ;IAEA,KAAKH,SAAL,GAAiBG,GAAjB;;IACA,IAAI,CAAC,KAAKL,SAAV,EAAqB;MACnB,KAAKA,SAAL,GAAiBK,GAAjB;IACD;;IACDD,IAAI;EACL,CARD;AASD,CAzBD;;;;AA4BA,MAAME,mBAAmB,GAAGC,GAAG,IAAI;EACjC,IAAIC,IAAI,GAAG,CAAX;EAAA,IAAcC,CAAd;EAAA,IAAiBC,GAAjB;EACA,IAAI,SAAKC,MAAL,KAAgB,CAApB,EAAuB,OAAOH,IAAP;;EACvB,KAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,SAAKE,MAArB,EAA6BF,CAAC,EAA9B,EAAkC;IAChCC,GAAG,GAAK,SAAKE,UAAL,CAAgBH,CAAhB,CAAR;IACAD,IAAI,GAAK,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuBE,GAA/B;IACAF,IAAI,IAAI,CAAR,CAHgC,CAGrB;EACZ;;EACD,OAAOA,IAAP;AACD,CATD"}