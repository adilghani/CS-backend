{"version":3,"sources":["../../../src/utils/helpers/index.js"],"names":["timeStamp","schema","add","createdAt","Date","updatedAt","pre","next","now","convertStringToHash","str","hash","i","chr","length","charCodeAt"],"mappings":";;;;;;;AAAA,MAAMA,SAAS,GAAGC,MAAM,IAAI;AAC1BA,EAAAA,MAAM,CAACC,GAAP,CAAW;AACTC,IAAAA,SAAS,EAAEC,IADF;AAETC,IAAAA,SAAS,EAAED;AAFF,GAAX;AAKAH,EAAAA,MAAM,CAACK,GAAP,CAAW,MAAX,EAAmB,UAAUC,IAAV,EAAgB;AACjC,UAAMC,GAAG,GAAGJ,IAAI,CAACI,GAAL,EAAZ;AAEA,SAAKH,SAAL,GAAiBG,GAAjB;;AACA,QAAI,CAAC,KAAKL,SAAV,EAAqB;AACnB,WAAKA,SAAL,GAAiBK,GAAjB;AACD;;AAEDD,IAAAA,IAAI;AACL,GATD;AAUAN,EAAAA,MAAM,CAACK,GAAP,CAAW,WAAX,EAAwB,UAAUC,IAAV,EAAgB;AACtC,UAAMC,GAAG,GAAGJ,IAAI,CAACI,GAAL,EAAZ;AAEA,SAAKH,SAAL,GAAiBG,GAAjB;;AACA,QAAI,CAAC,KAAKL,SAAV,EAAqB;AACnB,WAAKA,SAAL,GAAiBK,GAAjB;AACD;;AACDD,IAAAA,IAAI;AACL,GARD;AASD,CAzBD;;;;AA4BA,MAAME,mBAAmB,GAAGC,GAAG,IAAI;AACjC,MAAIC,IAAI,GAAG,CAAX;AAAA,MAAcC,CAAd;AAAA,MAAiBC,GAAjB;AACA,MAAI,SAAKC,MAAL,KAAgB,CAApB,EAAuB,OAAOH,IAAP;;AACvB,OAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG,SAAKE,MAArB,EAA6BF,CAAC,EAA9B,EAAkC;AAChCC,IAAAA,GAAG,GAAK,SAAKE,UAAL,CAAgBH,CAAhB,CAAR;AACAD,IAAAA,IAAI,GAAK,CAACA,IAAI,IAAI,CAAT,IAAcA,IAAf,GAAuBE,GAA/B;AACAF,IAAAA,IAAI,IAAI,CAAR,CAHgC,CAGrB;AACZ;;AACD,SAAOA,IAAP;AACD,CATD","sourcesContent":["const timeStamp = schema => {\r\n  schema.add({\r\n    createdAt: Date,\r\n    updatedAt: Date\r\n  });\r\n\r\n  schema.pre('save', function (next) {\r\n    const now = Date.now();\r\n\r\n    this.updatedAt = now;\r\n    if (!this.createdAt) {\r\n      this.createdAt = now;\r\n    }\r\n\r\n    next();\r\n  });\r\n  schema.pre('updateOne', function (next) {\r\n    const now = Date.now();\r\n\r\n    this.updatedAt = now;\r\n    if (!this.createdAt) {\r\n      this.createdAt = now;\r\n    }\r\n    next();\r\n  });\r\n};\r\n\r\n\r\nconst convertStringToHash = str => {\r\n  let hash = 0, i, chr;\r\n  if (this.length === 0) return hash;\r\n  for (i = 0; i < this.length; i++) {\r\n    chr   = this.charCodeAt(i);\r\n    hash  = ((hash << 5) - hash) + chr;\r\n    hash |= 0; // Convert to 32bit integer\r\n  }\r\n  return hash;\r\n};\r\n\r\nexport {\r\n  timeStamp,\r\n  convertStringToHash\r\n};\r\n"],"file":"index.js"}