{"version":3,"file":"index.js","names":["routes","require","Router","jwt","multer","cookieParser","path","bodyParser","uuid","fs","AWS","secret","use","apiAuth","urlencoded","extended","json","s3","S3","accessKeyId","secretAccessKey","userAuth","auth","req","res","next","authHeader","header","token","decode","status","message","startsWith","substring","length","verify","err","walletAddress","decryptedData","models","adminRegisterModel","findOne","exec","get","route","post","body","check","userModel","address","console","log","undefined","userName","description","avatar","background","twitter","facebook","instagram","isVerified","save","error","put","userFromDB","findOneAndUpdate","runValidators","query","user","lean","isverified","VerifiedCollection","auction","auctionUser","User","find","$or","data","existingOne","collectionModel","name","tokenUpdate","$push","parseInt","tokens","category","send","create","owner","toLowerCase","nftAddress","externalUrl","_id","updateOne","collection","delete","findOneAndDelete","toString","$each","featureCollectionPath","join","__dirname","Storage","diskStorage","destination","filename","file","cb","v4","extname","originalname","uploadcoll","storage","single","link","readFile","params","Bucket","Key","ACL","ContentType","mimetype","Body","upload","filterFeatureCollection","uploadfeaturemodel","collection_name","imageUrl","Location","profilefilePath","uploadImage","fname","s3Err","collections","select","decimal","chainId","filterData","skip","page","size","limit","countDocuments","count","totalPage","Math","ceil","errs","nft","sort","$natural","tokenId","tokenAddress","$elemMatch","String","$inc","noOfOwner","new","tokenAddr","obj","viewAndLikeModel","views","likes","likedAccounts","viewedAddresses","includes","newUpdatedInfo","viewAndLike","then","catch","likedNft","like","userAddress","forEach","nftdata","nftControllerModel","push","setTimeout","noti","notificationmodel","viewedNft","view","follower","following","followers","map","userdata","fdata","msg","followings","email","adminData","createAdmin","jwtData","expiresIn","sign","hexa","Nft","tokenIds","i","findNft","id","nftToken","Object","keys","$and","updateNft","price","ownerOf","selectedCat","isOnSell","withEther","createNft","metadata","tokenUri","relatedCollectionId","startTime","endTime","intialPrice","isOnAuction","bidder","nftBidmodel","filterAddress","withEither","bidTime","Date","now","bid","aggregate","$match","$unwind","$sort","$group","$project","$ne","externalNft","nfts","storeNFT","limitedNft","$regex","$options","$lookup","pipeline","$in","$toInt","as","$exists","$limit","details","from","let","$expr","$eq","$addFields","$facet","$skip","Total","$sum","mostLikedNft","leastLikedNft","$gt","startPrice","$lt","endPrice","limitedCollection","featured","documents","isFeatured","isMarketPlace","filePath","uploadSliderModel","uploadslider","url","q","split","deleteSlider","deleteObject","users","module","exports"],"sources":["../../src/routes/index.js"],"sourcesContent":["import models from \"~/models\";\r\nconst routes = require(\"express\").Router();\r\nconst jwt=require(\"jsonwebtoken\")\r\nconst multer = require(\"multer\");\r\nvar cookieParser = require('cookie-parser')\r\nconst path=require(\"path\");\r\nconst bodyParser=require(\"body-parser\");\r\nvar uuid = require('uuid');\r\nconst fs = require('fs');\r\nconst AWS = require('aws-sdk')\r\nconst secret=\"1b4b2481e997ff0b8be28106f97040aa d4cb154b4a0b7e135354946c2b572110 b5d60d263e8e9596acd942a9402b23e0 e2705442w261f902b08fa9d220e3c906037 b8184ea414e848d2323838b30367703be82e c4e417215bb9dsddd4d231a8df5799d7f84 eb3e951fd15ae401513b56c684514ea3\";\r\nroutes.use(cookieParser())\r\nconst apiAuth=require(\"./middleware\")\r\n\r\n// Body Parsers\r\nroutes.use(bodyParser.urlencoded({ extended: false }));\r\nroutes.use(bodyParser.json());\r\n\r\nconst s3 = new AWS.S3({\r\n  accessKeyId: \"AKIASAFVMRRSMD5RISOV\",\r\n  secretAccessKey: \"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\"\r\n});\r\n\r\nroutes.use(apiAuth.userAuth)\r\n\r\nasync function auth(req, res, next) {\r\n  var authHeader = req.header('authorization');\r\n  let token,decode;\r\n  if (!authHeader){\r\n    res.status(500).json({message:\"Token is not defined\"})\r\n  } \r\n  else if (authHeader.startsWith(\"Bearer \")){\r\n    token = authHeader.substring(7, authHeader.length);\r\n    jwt.verify(token, secret, async function(err, decode) {\r\n      if (err) {\r\n        res.status(400).json({message:\"You Token is expired\"})\r\n      }\r\n      else{\r\n        if(decode?.walletAddress){\r\n          var decryptedData = await models.adminRegisterModel.findOne({walletAddress:{'$regex' : '^'+decode.walletAddress+'$', \"$options\": \"i\"}}).exec();\r\n          if(decryptedData){\r\n            next()\r\n          }\r\n          else{\r\n            res.status(400).json({message:\"You are not authorized person\"})\r\n          }\r\n        }\r\n        else{\r\n          res.status(400).json({message:\"Your token is not valid/expired\"})\r\n        }\r\n      }\r\n    });\r\n  } \r\n  else {\r\n    jwt.verify(token, secret, async function(err, decode) {\r\n      if (err) {\r\n        res.status(400).json({message:\"You Token is expired\"})\r\n      }\r\n      else{\r\n        if(decode?.walletAddress){\r\n          var decryptedData = await models.adminRegisterModel.findOne({walletAddress:{'$regex' : '^'+decode.walletAddress+'$', \"$options\": \"i\"}}).exec();\r\n          if(decryptedData){\r\n            next()\r\n          }\r\n          else{\r\n            res.status(400).json({message:\"You are not authorized person\"})\r\n          }\r\n        }\r\n        else{\r\n          res.status(400).json({message:\"Your token is not valid/expired\"})\r\n        }\r\n      }\r\n    });\r\n  }\r\n};\r\n\r\nroutes.get(\"/\",(req, res) => {\r\n  res.status(200).json({ message: \"ClosedSea Backend Service\" });\r\n});\r\n\r\nroutes\r\n  .route(\"/profile\")\r\n  .post(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      let check = await models.userModel.findOne({address: {'$regex' : '^'+body.address+'$', \"$options\": \"i\"}}).exec();\r\n      console.log(check)\r\n      if(check !== null && check !== undefined){\r\n        res.status(200).json({ message: \"This wallet address is already exist\" });\r\n      }\r\n      else{\r\n        await new models.userModel({\r\n          address: body.address,\r\n          userName: body.userName,\r\n          description: body.description,\r\n          avatar: body.avatar,\r\n          background: body.background,\r\n          twitter: body.twitter,\r\n          facebook:body.facebook,\r\n          instagram: body.instagram,\r\n          isVerified:body.isVerified\r\n        }).save();\r\n        res.status(200).json(\"Successfully registered\");\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\",error:error.message });\r\n    }\r\n  })\r\n  .put(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      const userFromDB = await models.userModel.findOne({\r\n        address:{'$regex' : '^'+body.address+'$', \"$options\": \"i\"},\r\n      });\r\n      if (userFromDB) {\r\n        await models.userModel.findOneAndUpdate({address:{'$regex' : '^'+body.address+'$', \"$options\": \"i\"}},{ ...body},\r\n          { runValidators: true }\r\n        );\r\n        res.status(200).json(\"Successfully updated\");\r\n      } else {\r\n        res.status(500).json({ message: \"User not registered yet.\" });\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .get(async (req, res) => {\r\n    try{\r\n      const address = req.query.address;\r\n      const user = await models.userModel.findOne({address:{'$regex' : '^'+address+'$', \"$options\": \"i\"}}).lean().exec();\r\n      res.status(200).json({ ...user });\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  });\r\n\r\nroutes.post(\"/verified_user\",(req,res)=>{\r\n    try{ \r\n      if(!req.body.address || req.body.isverified == undefined){\r\n        res.status(500).json({message:\"Parameters are wrong\"})\r\n      }\r\n      else{\r\n        let VerifiedCollection= models.userModel.findOneAndUpdate({address:{'$regex' : '^'+req.body.address+'$', \"$options\": \"i\"}},{\r\n          isVerified: req.body.isverified\r\n        })\r\n        VerifiedCollection.exec((err)=>{\r\n          if(err) throw err;\r\n          res.status(200).json({message:\"Successfully Verified\"})\r\n        })\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  \r\nroutes.post(\"/auction_user\",(req,res)=>{\r\n    try{ \r\n      if(!req.body.address || req.body.auction == undefined){\r\n        res.status(500).json({message:\"Parameters are wrong\"})\r\n      }\r\n      else{\r\n        let auctionUser= models.userModel.findOneAndUpdate({address:{'$regex' : '^'+req.body.address+'$', \"$options\": \"i\"}},{\r\n          auction:req.body.auction\r\n        })\r\n        auctionUser.exec((err)=>{\r\n          if(err) throw err;\r\n          res.status(200).json({message:\"Success\"})\r\n        })\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n\r\nroutes.post(\"/search_user\",(req,res)=>{\r\n    try{ \r\n        let User= models.userModel.find({$or:[{address:{'$regex' : '^'+req.body.user+'$', \"$options\": \"i\"}},{userName:{'$regex' : req.body.user, \"$options\": \"i\"}}]})\r\n        User.exec((err,data)=>{\r\n          if(err) throw err;\r\n          res.status(200).json(data)\r\n        })\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n\r\nroutes.get(\"/get-all-users\", (req, res) => {\r\n  try{\r\n    let user = models.userModel.find();\r\n    user.exec((err,data)=>{\r\n      res.status(200).json({data});\r\n    })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes\r\n  .route(\"/collection\")\r\n  .post(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      const existingOne = await models.collectionModel.findOne({\r\n        name: body.name,\r\n      });\r\n      \r\n      if (existingOne) {\r\n        let tokenUpdate=models.collectionModel.findOneAndUpdate({name: body.name},{\r\n          $push: {'tokens.tokenId': parseInt(body.tokens)},\r\n          category:body.category\r\n        })\r\n        tokenUpdate.exec((err)=>{\r\n          if(err) throw err;\r\n          res.send(\"Successfully token Added!\")\r\n        })\r\n      }\r\n      else{\r\n        await models.collectionModel.create({\r\n          name: body.name,\r\n          owner: body.owner?.toLowerCase(),\r\n          nftAddress: body.nftAddress?.toLowerCase(),\r\n          avatar: body.avatar,\r\n          background: body.background,\r\n          description: body.description,\r\n          externalUrl: body.externalUrl,\r\n          category:body.category,\r\n          tokens: {\"tokenId\":parseInt(body.tokens)} || [],\r\n        });\r\n        res.status(200).json(\"Successfully created!\");\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .put(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      const existingOne = await models.collectionModel.findOne({_id: body._id,}).lean().exec();\r\n      if (!existingOne) {\r\n        return res.status(500).json(\"No exist id\");\r\n      }\r\n      else{\r\n        let data = {\r\n          name: body.name\r\n        };\r\n        if (!!body.avatar) {\r\n          data = { ...data, avatar: body.avatar };\r\n        }\r\n        if (!!body.background) {\r\n          data = { ...data, background: body.background };\r\n        }\r\n        if (!!body.description) {\r\n          data = { ...data, description: body.description };\r\n        }\r\n        if (!!body.externalUrl) {\r\n          data = { ...data, externalUrl: body.externalUrl };\r\n        }\r\n        if (!!body.tokens) {\r\n          data = { ...data, tokens: body.tokens };\r\n        }\r\n        if (!!body.category) {\r\n          data = { ...data, category:body.category };\r\n        }\r\n        await models.collectionModel.updateOne({ _id: body._id }, data);\r\n        res.status(200).json(\"Successfully updated!\");\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .get(async (req, res) => {\r\n    try {\r\n      const name = req.query.name;\r\n      const collection = await models.collectionModel\r\n        .findOne({ name })\r\n        .lean()\r\n        .exec();\r\n      res.status(200).json({ ...collection });\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .delete(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      await models.collectionModel.findOneAndDelete({\r\n        _id: body._id,\r\n      });\r\n      return res.status(200).json(\"Successfully deleted\");\r\n    } catch (error) {\r\n      console.log(\"[collection delete] error => \", error);\r\n      res.status(500).json({ message: error.toString() });\r\n    }\r\n  });\r\n\r\n\r\n// Version 2 of Collection API\r\nroutes\r\n  .route(\"/collection/v2\")\r\n  .post(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      const existingOne = await models.collectionModel.findOne({\r\n        name: body.name,\r\n      });\r\n\r\n      if (existingOne) {\r\n        let tokenUpdate=models.collectionModel.findOneAndUpdate({name: body.name},{\r\n          $push: {'tokens':{ $each: body.tokens}},\r\n          category:body.category\r\n        })\r\n        tokenUpdate.exec((err)=>{\r\n          if(err) throw err;\r\n          res.send(\"Successfully token Added!\")\r\n        })\r\n      }\r\n      else{\r\n        await models.collectionModel.create({\r\n          name: body.name,\r\n          owner: body.owner?.toLowerCase(),\r\n          nftAddress: body.nftAddress?.toLowerCase(),\r\n          avatar: body.avatar,\r\n          background: body.background,\r\n          description: body.description,\r\n          externalUrl: body.externalUrl,\r\n          category:body.category,\r\n          tokens: body.tokens || [],\r\n        });\r\n        res.status(200).json(\"Successfully created!\");\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .put(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      const existingOne = await models.collectionModel.findOne({_id: body._id,}).lean().exec();\r\n      if (!existingOne) {\r\n        return res.status(500).json(\"No exist id\");\r\n      }\r\n      else{\r\n        let data = {\r\n          name: body.name\r\n        };\r\n        if (!!body.avatar) {\r\n          data = { ...data, avatar: body.avatar };\r\n        }\r\n        if (!!body.background) {\r\n          data = { ...data, background: body.background };\r\n        }\r\n        if (!!body.description) {\r\n          data = { ...data, description: body.description };\r\n        }\r\n        if (!!body.externalUrl) {\r\n          data = { ...data, externalUrl: body.externalUrl };\r\n        }\r\n        if (!!body.tokens) {\r\n          data = { ...data, tokens: body.tokens};\r\n        }\r\n        if (!!body.category) {\r\n          data = { ...data, category:body.category };\r\n        }\r\n        await models.collectionModel.updateOne({ _id: body._id }, data);\r\n        res.status(200).json(\"Successfully updated!\");\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .get(async (req, res) => {\r\n    try {\r\n      const name = req.query.name;\r\n      const collection = await models.collectionModel\r\n        .findOne({ name })\r\n        .lean()\r\n        .exec();\r\n      res.status(200).json({ ...collection });\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .delete(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      await models.collectionModel.findOneAndDelete({\r\n        _id: body._id,\r\n      });\r\n      return res.status(200).json(\"Successfully deleted\");\r\n    } catch (error) {\r\n      console.log(\"[collection delete] error => \", error);\r\n      res.status(500).json({ message: error.toString() });\r\n    }\r\n  });\r\n\r\n\r\n  const featureCollectionPath = path.join(__dirname,\"../\",\"../public/featureCollectionImage/\");\r\n  // for file upload\r\n  var Storage=multer.diskStorage({\r\n    destination:featureCollectionPath,\r\n    filename:(req,file,cb)=>{\r\n      cb(null,uuid.v4()+path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\n  var uploadcoll=multer({\r\n    storage:Storage\r\n  }).single('pic');\r\n   \r\n  routes.post(\"/feature_collection\",auth,uploadcoll,(req,res)=>{\r\n    try {\r\n      if(req.file == undefined){\r\n        res.status(400).json({message:\"Image is Required\"})\r\n      }\r\n      else if(req.body.link == undefined){\r\n        res.status(400).json({message:\"Link is Required\"})\r\n      }\r\n      else{\r\n      fs.readFile(req.file.path, (err, data) => {\r\n        if (err) throw err;\r\n        const params = {\r\n            Bucket: 'closedsea', // pass your bucket name\r\n            Key: req.file.filename, // file will be saved as testBucket/contacts.csv\r\n            ACL: \"public-read\",\r\n            ContentType: req.file.mimetype,\r\n            Body: data\r\n        };\r\n        s3.upload(params, function(err, data) {\r\n            if (err) throw err\r\n            let filterFeatureCollection= models.uploadfeaturemodel.findOneAndUpdate({collection_name:req.body.collection},{\r\n              link: req.body.link,\r\n              imageUrl:data.Location\r\n            })\r\n            filterFeatureCollection.exec((err)=>{\r\n              if(err) throw err;\r\n              res.status(200).json({message:\"Success\"})\r\n            })\r\n        });\r\n    });\r\n    }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n});\r\n\r\n  routes.get(\"/feature_collection\", async (req, res) => {\r\n    try{\r\n      models.uploadfeaturemodel.find().lean().exec((err,data)=>{\r\n        if(err) throw err;\r\n        res.status(200).json({data})\r\n      })\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n\r\n  routes.post(\"/verified_collection\",(req,res)=>{\r\n   try{\r\n      let VerifiedCollection= models.collectionModel.findOneAndUpdate({name:req.body.collection_name},{\r\n        isVerified: req.body.isverified\r\n      })\r\n      VerifiedCollection.exec((err)=>{\r\n        if(err) throw err;\r\n        res.status(200).json({message:\"Successfully Verified\"})\r\n      })\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n\r\nconst profilefilePath = path.join(__dirname,\"../\",\"../public/commonimage/\");\r\n// for file upload\r\nvar Storage=multer.diskStorage({\r\n  destination:profilefilePath,\r\n  filename:(req,file,cb)=>{\r\n    cb(null,uuid.v4()+path.extname(file.originalname))\r\n  }\r\n})\r\n\r\nvar uploadImage=multer({\r\n  storage:Storage\r\n}).single('file');\r\n \r\nroutes.post(\"/upload_file_to_s3\",uploadImage,(req,res)=>{\r\n try{\r\n    if(req.file == undefined){\r\n      res.status(\"400\").json({message:\"Image is Required\"})\r\n    }\r\n    else{\r\n        fs.readFile(req.file.path, (err, data) => {\r\n          if (err) throw err;\r\n          const params = {\r\n              Bucket: 'closedsea', // pass your bucket name\r\n              Key: req.body.fname, // file will be saved\r\n              ACL: \"public-read\",\r\n              ContentType: req.file.mimetype,\r\n              Body: data\r\n          };\r\n          s3.upload(params, function(s3Err, data) {\r\n              if (s3Err) throw s3Err\r\n              res.status(200).json(data);\r\n          });\r\n        });\r\n      }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.get(\"/collection-names\", async (req, res) => {\r\n  try {\r\n    const collections = await models.collectionModel\r\n      .find({})\r\n      .select(\"name -_id\")\r\n      .exec();\r\n    res.status(200).json(collections);\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes.get(\"/get-all-collections\", async (req, res) => {\r\n  try {\r\n    const collections = await models.collectionModel.find().lean().exec();\r\n    res.status(200).json(collections);\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes.post(\"/get-verified-collection\",(req, res) => {\r\n  try{\r\n    let decimal=parseInt(req.body.chainId);\r\n    let filterData=models.collectionModel.find({isVerified:true}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size)).lean();\r\n    models.collectionModel.countDocuments({isVerified:true}, function(err, count) {\r\n      let totalPage=Math.ceil(count/parseInt(req.body.size));  \r\n      filterData.exec(async(err,data)=>{\r\n          if (err) throw err;\r\n          if(data[0]==undefined || data[0]==null){\r\n            res.status(200).json({message:\"No Collection found\",errs:true});\r\n          }\r\n          else{\r\n            res.status(200).json({nft:data,totalPage:totalPage});\r\n          }\r\n      })\r\n    })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/oldest-collection\",(req, res) => {\r\n  try{\r\n    let decimal=parseInt(req.body.chainId);\r\n    let filterData=models.collectionModel.find().sort({$natural:1}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size)).lean();\r\n    models.collectionModel.countDocuments( function(err, count) {\r\n      let totalPage=Math.ceil(count/parseInt(req.body.size));  \r\n      filterData.exec(async(err,data)=>{\r\n          if (err) throw err;\r\n          if(data[0]==undefined || data[0]==null){\r\n            res.status(200).json({message:\"No Collection found\",errs:true});\r\n          }\r\n          else{\r\n            res.status(200).json({nft:data,totalPage:totalPage});\r\n          }\r\n      })\r\n    })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/newest-collection\",(req, res) => {\r\n  try{\r\n  let decimal=parseInt(req.body.chainId);\r\n  let filterData=models.collectionModel.find().sort({$natural:-1}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size)).lean();\r\n    models.collectionModel.countDocuments(function(err, count) {\r\n      let totalPage=Math.ceil(count/parseInt(req.body.size));  \r\n      filterData.exec(async(err,data)=>{\r\n          if (err) throw err;\r\n          if(data[0]==undefined || data[0]==null){\r\n            res.status(200).json({message:\"No Collection found\",errs:true});\r\n          }\r\n          else{\r\n            res.status(200).json({nft:data,totalPage:totalPage});\r\n          }\r\n      })\r\n    })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.get(\"/my-collections\", async (req, res) => {\r\n  try {\r\n    const owner = { '$regex' : '^'+req.query.owner+'$', \"$options\": \"i\" };\r\n    const token = req.query.token;\r\n    if(owner && token){\r\n      const collections = await models.collectionModel.find({owner:owner,\"tokens.tokenId\": parseInt(token)}).lean().exec();\r\n      res.status(200).json(collections);\r\n    }\r\n    else if(owner){\r\n      const collections = await models.collectionModel.find({ owner }).lean().exec();\r\n      res.status(200).json(collections);\r\n    }\r\n    else{\r\n      res.status(400).json({message:\"Required value not found\"});\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes.get(\"/my-collections/v2\", async (req, res) => {\r\n  try {\r\n    const owner = { '$regex' : '^'+req.query.owner+'$', \"$options\": \"i\" };\r\n    if(owner && req.query.tokenId && req.query.tokenAddress){\r\n      const collections = await models.collectionModel.find({owner:owner,tokens:{$elemMatch:{tokenId: parseInt(req.query.tokenId),tokenAddress: {'$regex': '^'+req.query.tokenAddress+'$','$options': 'i'}}}}).lean().exec();\r\n      res.status(200).json(collections);\r\n    }\r\n    else if(owner){\r\n      const collections = await models.collectionModel.find({ owner }).lean().exec();\r\n      res.status(200).json(collections);\r\n    }\r\n    else{\r\n      res.status(400).json({message:\"Required value not found\"});\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes.post(\"/inc-in-owner-count\", async (req, res) => {\r\n  try {\r\n    if(req.body.tokenId && req.body.tokenAddress){\r\n      const collections = await models.collectionModel.findOneAndUpdate({tokens:{$elemMatch:{tokenId: parseInt(req.body.tokenId),tokenAddress: {'$regex': '^'+req.body.tokenAddress+'$','$options': 'i'},$or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}]}}},{ $inc: { noOfOwner: 1}},{new:true}).lean().exec();\r\n      res.status(200).json(collections);\r\n    }\r\n    else{\r\n      res.status(400).json({message:\"Required value not found\"});\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes.put(\"/insert-token-to-collection\", async (req, res) => {\r\n  try {\r\n    const { body } = req;\r\n    const collection = await models.collectionModel\r\n      .find({ name: body.name })\r\n      .lean()\r\n      .exec();\r\n    if (collection) {\r\n      let tokenUpdate=models.collectionModel.findOneAndUpdate({name: body.name},{\r\n        $push: {'tokens': parseInt(body.token)}\r\n      })\r\n      tokenUpdate.exec((err)=>{\r\n        if(err) throw err;\r\n        res.status(200).json({message:\"Successfully token Added!\"})\r\n      })\r\n    }\r\n    else{\r\n      res.status(200).json({message:\"Document not found!\"})\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n});\r\n\r\nroutes\r\n  .route(\"/view-and-like\")\r\n  .get(async (req, res) => {\r\n    try {\r\n      const { tokenAddr, tokenId } = req.query;\r\n      const obj = await models.viewAndLikeModel.findOne({ tokenAddr: { '$regex' : '^'+req.query.tokenAddr+'$', \"$options\": \"i\" }, tokenId:req.query.tokenId }).lean().exec();\r\n\r\n      if (obj) {\r\n        res.status(200).json({ ...obj });\r\n      } else {\r\n        res.status(200).json({\r\n          views: 0,\r\n          likes: 0,\r\n          tokenAddr,\r\n          tokenId,\r\n          likedAccounts: [],\r\n          viewedAddresses: [],\r\n        });\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  })\r\n  .post(async (req, res) => {\r\n    try {\r\n      const { body } = req;\r\n      console.log({ body });\r\n      const obj = await models.viewAndLikeModel.findOne({\r\n        tokenAddr: body.tokenAddr,\r\n        tokenId: body.tokenId,\r\n      });\r\n      console.log({ obj });\r\n      if (obj) {\r\n        // update\r\n\r\n        //VIEWS ARE NOT EQUAL ? THEN CHECK IF ADDRESS IS PRESENT IN ARRAY\r\n        if (\r\n          (parseInt(body.views) !== parseInt(obj.views) &&\r\n            parseInt(body.views) !== 0) ||\r\n          (parseInt(body.views) === parseInt(obj.views) &&\r\n            parseInt(body.views) !== 0)\r\n        ) {\r\n          if (obj.viewedAddresses?.includes(body.address)) {\r\n            return res.status(200).json({message:\"Already viewed\",error:true});\r\n          } else {\r\n            await models.viewAndLikeModel.findOneAndUpdate(\r\n              { tokenAddr: body.tokenAddr, tokenId: body.tokenId },\r\n              { viewedAddresses: [...obj.viewedAddresses, body.address] },\r\n              { new: true }\r\n            );\r\n          }\r\n        }\r\n\r\n        if (\r\n          (parseInt(body.likes) !== parseInt(obj.likes) &&\r\n            parseInt(body.likes) !== 0) ||\r\n          (parseInt(body.likes) === parseInt(obj.likes) &&\r\n            parseInt(body.likes) !== 0)\r\n        ) {\r\n          if (obj.likedAccounts?.includes(body.address)) {\r\n            return res.status(200).json({message:\"Already Liked\",error:true});\r\n          }\r\n          //else if\r\n          else {\r\n            await models.viewAndLikeModel.findOneAndUpdate(\r\n              { tokenAddr: body.tokenAddr, tokenId: body.tokenId },\r\n              { likedAccounts: [...obj.likedAccounts, body.address] },\r\n              { new: true }\r\n            );\r\n          }\r\n        }\r\n        const newUpdatedInfo = await models.viewAndLikeModel.findOneAndUpdate(\r\n          { tokenAddr: body.tokenAddr, tokenId: body.tokenId },\r\n          {\r\n            views: obj.views + body.views,\r\n            likes: obj.likes + body.likes,\r\n          },\r\n          { new: true }\r\n        );\r\n        res.status(200).json(newUpdatedInfo);\r\n      } else {\r\n        await models.viewAndLikeModel.create({\r\n          tokenAddr: body.tokenAddr,\r\n          tokenId: body.tokenId,\r\n          views: body.views > 0 ? 1 : 0,\r\n          likes: body.likes > 0 ? 1 : 0,\r\n          viewedAddresses: body.views > 0 ? [body.address?.toLowerCase()] : [],\r\n          likedAccounts: body.likes > 0 ? [body.address?.toLowerCase()] : [],\r\n        });\r\n      }\r\n    } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n    }\r\n  });\r\n\r\nroutes.get(\"/views_and_likes\",(req, res) => {\r\n    var viewAndLike=models.viewAndLikeModel.find();\r\n    viewAndLike.exec()\r\n    .then((data)=>{\r\n      res.send(data);\r\n    })\r\n    .catch((err)=>res.status(500).json({ message: error.message}))\r\n})\r\n\r\nroutes.post(\"/usersviews_and_userslikes\",(req, res) => {\r\n  let likedNft =[];\r\n    var like=models.viewAndLikeModel.find({likedAccounts:req.body.userAddress});\r\n    like.exec((err,data)=>{\r\n      data.forEach(function(token){\r\n        let nftdata=models.nftControllerModel.findOne({tokenId:token.tokenId,tokenAddr: { '$regex' : '^'+token.tokenAddr+'$', \"$options\": \"i\" }});\r\n        nftdata.exec((err,nft)=>{\r\n          if (err) throw err\r\n          likedNft.push(nft)\r\n        })\r\n      })\r\n      setTimeout(()=>res.status(200).json({likedNft}),3000);\r\n    })\r\n})\r\n\r\nroutes.post(\"/update-notification-bar\",async(req, res) => {\r\n  try{\r\n    let noti=await models.notificationmodel.findOne().lean().exec();\r\n    await models.notificationmodel.findOneAndUpdate({_id:noti._id},req.body).exec();\r\n    return res.status(200).json(\"Updated Successfully\")\r\n  } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.get(\"/get-notification-bar\",apiAuth.userAuth,async(req, res) => {\r\n  try{\r\n    let noti=await models.notificationmodel.findOne().lean().exec();\r\n    return res.status(200).json(noti)\r\n  } catch (error) {\r\n      res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.post(\"/usersviews\",(req, res) => {\r\n  let viewedNft =[];\r\n    var view=models.viewAndLikeModel.find({viewedAddresses:req.body.userAddress});\r\n    view.exec((err,data)=>{\r\n      data.forEach(function(token){\r\n        let nftdata=models.nftControllerModel.findOne({tokenId:token.tokenId,tokenAddr: { '$regex' : '^'+token.tokenAddr+'$', \"$options\": \"i\" }});\r\n        nftdata.exec((err,nft)=>{\r\n          if (err) throw err\r\n          viewedNft.push(nft)\r\n        })\r\n      })\r\n      setTimeout(()=>res.status(200).json({viewedNft}),3000);\r\n    })\r\n})\r\n\r\nroutes.post(\"/users_follow\",(req, res) => {\r\n  let follower=models.userModel.findOneAndUpdate({address:req.body.follower},{\r\n    $push: {'follower': req.body.following}\r\n  })\r\n  follower.exec((err)=>{\r\n    if(err) throw err;\r\n    let following=models.userModel.findOneAndUpdate({address:req.body.following},{\r\n      $push: {'following': req.body.follower}\r\n    })\r\n    following.exec((err)=>{\r\n      if(err) throw err;\r\n      res.send(\"success\")\r\n    })\r\n  })\r\n})\r\n\r\nroutes.post(\"/get-followers\",(req, res) => {\r\n  let followers=[];\r\n    var user=models.userModel.findOne({address:{'$regex' : '^'+req.body.userAddress+'$', \"$options\": \"i\"}});\r\n    user.exec((err,data)=>{\r\n      if(err) throw err;\r\n      if(data!==undefined && data!==null){\r\n        if(data.follower[0]!==undefined && data.follower[0]!==null){\r\n         data.follower.map(function(address){\r\n          let userdata=models.userModel.findOne({address:{'$regex' : '^'+address+'$', \"$options\": \"i\"}});\r\n          userdata.exec((err,fdata)=>{\r\n            if (err) throw err\r\n            if(fdata!==undefined && fdata!==null){\r\n              followers.push(fdata)\r\n            }\r\n          })\r\n        })\r\n          setTimeout(()=>res.status(200).json({followers}),3000);\r\n          }\r\n        else{\r\n          res.status(400).json({msg:\"No followers\"})\r\n        }\r\n      }\r\n      else{\r\n        res.status(400).json({msg:\"No Data\"})\r\n      }\r\n    })\r\n})\r\n\r\nroutes.post(\"/get-following\",(req, res) => {\r\n  let followings=[];\r\n    var user=models.userModel.findOne({address:{'$regex' : '^'+req.body.userAddress+'$', \"$options\": \"i\"}});\r\n    user.exec((err,data)=>{\r\n      if(err) throw err;\r\n      if(data!==undefined && data!==null){\r\n        if(data.following[0]!==undefined && data.following[0]!==null){\r\n          data.following.map(function(address){\r\n            let userdata=models.userModel.findOne({address:{'$regex' : '^'+address+'$', \"$options\": \"i\"}});\r\n            userdata.exec((err,fdata)=>{\r\n              if (err) throw err\r\n              if(fdata!==undefined && fdata!==null){\r\n                followings.push(fdata)\r\n              }\r\n            })\r\n          })\r\n        setTimeout(()=>res.status(200).json({followings}),3000);\r\n      }\r\n      else{\r\n        res.status(400).json({msg:\"No followings\"})\r\n      }\r\n    }\r\n      else{\r\n        res.status(400).json({msg:\"No Data\"})\r\n      }\r\n  })\r\n})\r\n\r\nroutes.post(\"/admin-register\",async(req, res) => {\r\n  try{\r\n    if(!req.body.walletAddress || !req.body.name || !req.body.email){\r\n      return res.status(500).json(\"Parameters are wrong\");\r\n    }\r\n    else{\r\n      let adminData=await models.adminRegisterModel.findOne({walletAddress:{'$regex' : '^'+req.body.walletAddress+'$', \"$options\": \"i\"}}).exec();\r\n      if(adminData){\r\n        res.status(500).json(\"Already Admin\");\r\n      }\r\n      else{\r\n        let createAdmin=new models.adminRegisterModel({\r\n          walletAddress: req.body.walletAddress,\r\n          name:req.body.name,\r\n          email:req.body.email\r\n        })\r\n        createAdmin.save(function(){\r\n          res.status(200).json(\"Admin registerd Succcesfully\");\r\n        });\r\n      }\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.post(\"/admin-update\",async(req, res) => {\r\n  try{\r\n      let adminData=await models.adminRegisterModel.findOne({walletAddress:{'$regex' : '^'+req.body.walletAddress+'$', \"$options\": \"i\"}}).exec();\r\n      if(adminData){\r\n        await models.adminRegisterModel.findOneAndUpdate({walletAddress:{'$regex' : '^'+req.body.walletAddress+'$', \"$options\": \"i\"}},req.body).exec();\r\n        res.status(200).json(\"Updated succesfully\");\r\n      }\r\n      else{\r\n        res.status(500).json(\"Wallet Address is necessary to update Admin\");\r\n      }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.post(\"/admin-delete\",async(req, res) => {\r\n  try{\r\n      let adminData=await models.adminRegisterModel.findOne({walletAddress:{'$regex' : '^'+req.body.walletAddress+'$', \"$options\": \"i\"}}).exec();\r\n      if(adminData){\r\n        await models.adminRegisterModel.findOneAndDelete({walletAddress:{'$regex' : '^'+req.body.walletAddress+'$', \"$options\": \"i\"}}).exec();\r\n        res.status(200).json(\"Deleted succesfully\");\r\n      }\r\n      else{\r\n        res.status(500).json(\"Wallet Adddress is necessary to delete Admin\");\r\n      }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.get(\"/admin-all\",async(req, res) => {\r\n  try{\r\n      let adminData=await models.adminRegisterModel.find().lean().exec();\r\n      res.status(200).json(adminData);\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.post(\"/admin-login\",async(req, res) => {\r\n  if(req.body.address){\r\n    let adminData=await models.adminRegisterModel.findOne({walletAddress:{'$regex' : '^'+req.body.address+'$', \"$options\": \"i\"}}).exec();\r\n    if(adminData){\r\n      const jwtData = {\r\n        expiresIn:\"2 hours\" \r\n    };\r\n      const token=jwt.sign({walletAddress:req.body.address},secret,jwtData)\r\n      res.status(200).json(token)\r\n    }\r\n    else{\r\n      res.status(400).send(\"Wallet Not Found\")\r\n    }\r\n  }\r\n  else{\r\n    res.status(400).send(\"Wallet Not Found\")\r\n  }\r\n})\r\n\r\nroutes.post(\"/single-nft\",(req, res) => {\r\n  if(req.body.tokenId == undefined || req.body.tokenAddr==undefined){\r\n    res.status(500).json(\"Payload are wrong\")\r\n  }\r\n  else{\r\n    var nftdata=models.nftControllerModel.findOne({tokenId: req.body.tokenId , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});;\r\n    nftdata.exec()\r\n    .then((data)=>{\r\n      res.status(200).json(data)\r\n    })\r\n    .catch((err)=>res.status(500).json({ message: error.toString()}))\r\n  }\r\n})\r\n\r\nroutes.post(\"/nft-wrt-owner\",(req, res) => {\r\n  if(req.body.owner == undefined){\r\n    res.status(500).json(\"Parameters are wrong\")\r\n  }\r\n  else{\r\n    var nftdata=models.nftControllerModel.find({owner: { '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" }});\r\n    nftdata.exec()\r\n    .then((data)=>{\r\n      res.status(200).json(data)\r\n    })\r\n    .catch((err)=>res.status(500).json({ message: error.toString()}))\r\n  }\r\n})\r\n\r\nroutes.post(\"/nfts-wrt-chainId\",async (req, res) => {\r\n  try{\r\n    if( req.body.chainId.decimal == undefined || req.body.chainId.hexa==undefined){\r\n      res.status(500).json(\"Payload are wrong\")\r\n    }\r\n    else{\r\n      let decimal=parseInt(req.body.chainId.decimal);\r\n      let hexa=String(req.body.chainId.hexa);\r\n      let Nft = models.nftControllerModel.find({chainId:{decimal:decimal,hexa:hexa}});\r\n      Nft.exec((err,data)=>{\r\n        if(err) throw err;\r\n        res.status(200).json(data)\r\n      })\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.post(\"/nfts-wrt-tokenaddr\",async (req, res) => {\r\n  try{\r\n    if(req.body.tokenIds == undefined || req.body.tokenAddr == undefined || req.body.tokenIds.length < 1 || req.body.tokenIds.length == undefined){\r\n      res.status(500).json(\"Payload are wrong\")\r\n    }\r\n    else{\r\n      let data=[];\r\n      let tokenIds=req.body.tokenIds;\r\n      let i=0;\r\n      findNft(tokenIds[i]);\r\n      async function findNft(id){\r\n        let nft =await models.nftControllerModel.findOne({tokenId: id , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }}).lean().exec();\r\n        if(nft){\r\n          data.push(nft)\r\n        }\r\n        if(i!==tokenIds.length-1){\r\n          i++;\r\n          await findNft(tokenIds[i]);\r\n        }\r\n        else{\r\n          return res.status(200).json(data);\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.post(\"/nfts-wrt-tokenaddr-and-id\",async (req, res) => {\r\n  try{\r\n    if(req.body.nftToken == undefined || req.body.nftToken.length < 1 || req.body.nftToken.length == undefined){\r\n      res.status(500).json(\"Payload are wrong\")\r\n    }\r\n    else{\r\n      let data=[];\r\n      let tokens=req.body.nftToken;\r\n      let i=0;\r\n      findNft(tokens[i]);\r\n      async function findNft(token){\r\n        if(!Object.keys(token).length<2 && token.id && token.address){\r\n          let nft =await models.nftControllerModel.findOne({$and:[{tokenId: token.id} , {tokenAddr: { '$regex' : '^'+token.address+'$', \"$options\": \"i\" }},{$or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}]}]}).lean().exec();\r\n          if(nft){\r\n            data.push(nft)\r\n          }\r\n        }\r\n        if(i!==tokens.length-1){\r\n          i++;\r\n          await findNft(tokens[i]);\r\n        }\r\n        else{\r\n          return res.status(200).json(data);\r\n        }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n  }\r\n})\r\n\r\nroutes.get(\"/nft-collector\",(req, res) => {\r\n  var nftdata=models.nftControllerModel.find();\r\n  nftdata.exec()\r\n  .then((data)=>{\r\n    res.status(200).json(data)\r\n  })\r\n  .catch((err)=>res.status(500).json({ message: error.toString()}))\r\n})\r\n\r\nroutes.post(\"/nft-collector\",(req, res) => {\r\n  try{\r\n    if(req.body.tokenId && req.body.tokenAddr){\r\n    let filterData=models.nftControllerModel.findOne({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});\r\n      filterData.exec((err,data)=>{\r\n        if (err) throw err;\r\n        console.log(data)\r\n        if(data!==null){\r\n          let updateNft= models.nftControllerModel.findOneAndUpdate({tokenId: String(req.body.tokenId),tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }},{\r\n            price: req.body.price,\r\n            owner:req.body.ownerOf,\r\n            selectedCat:req.body.selectedCat,\r\n            isOnSell:req.body.isOnSell,\r\n            withEther:req.body.withEther\r\n          })\r\n          updateNft.exec((err)=>{\r\n            if(err) throw err;\r\n            res.status(200).json({message:\"Updated Success\"})\r\n          })\r\n        }\r\n        else{\r\n          let createNft=new models.nftControllerModel({\r\n            tokenAddr: req.body.tokenAddr,\r\n            tokenId: req.body.tokenId,\r\n            price: req.body.price,\r\n            owner:req.body.ownerOf,\r\n            metadata: req.body.metadata,\r\n            selectedCat:req.body.selectedCat,\r\n            tokenUri:req.body.tokenUri,\r\n            chainId:req.body.chainId,\r\n            relatedCollectionId:req.body.relatedCollectionId,\r\n            status:\"pending\",\r\n            withEther:req.body.withEther\r\n          })\r\n          createNft.save(function(){\r\n            res.status(200).json({message:\"Success\"})\r\n        });\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      res.status(500).json(\"Token Id or TokenAddress is not Defined\");\r\n    }\r\n  } catch (error) {\r\n  res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/nft-auction\",async (req, res) => {\r\n  try{\r\n    if(req.body.tokenId && req.body.tokenAddr && req.body.startTime && req.body.endTime && req.body.intialPrice){\r\n    let filterData=models.nftControllerModel.findOne({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});\r\n      filterData.exec(async (err,data)=>{\r\n        if (err) throw err;\r\n        if(data){\r\n          await models.nftControllerModel.findOneAndUpdate({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }},{\r\n            isOnAuction:true,\r\n            isOnSell:true,\r\n            auction:{\r\n              intialPrice:req.body.intialPrice,\r\n              startTime:req.body.startTime,\r\n              endTime:req.body.endTime\r\n            }\r\n          }).exec();\r\n          return res.status(200).json(\"Now NFT is On Auction\");\r\n        }\r\n        else{\r\n          res.status(500).json(\"NFT not Found!\");\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      res.status(500).json(\"Payload / Parameters Are Wrong!\");\r\n    }\r\n  } catch (error) {\r\n  res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/nft-auction-cancel\",async (req, res) => {\r\n  try{\r\n    if(req.body.tokenId && req.body.tokenAddr){\r\n    let filterData=models.nftControllerModel.findOne({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});\r\n      filterData.exec(async (err,data)=>{\r\n        if (err) throw err;\r\n        if(data){\r\n          await models.nftControllerModel.findOneAndUpdate({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }},{\r\n            isOnAuction:false,\r\n            isOnSell:false,\r\n            auction:null\r\n          }).exec();\r\n          return res.status(200).json(\"Now NFT is On Auction Cancel\");\r\n        }\r\n        else{\r\n          res.status(500).json(\"NFT not Found!\");\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      res.status(500).json(\"Payload / Parameters Are Wrong!\");\r\n    }\r\n  } catch (error) {\r\n  res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/nft-bid\",async (req, res) => {\r\n  try{\r\n    if(req.body.tokenId && req.body.tokenAddr && req.body.bidder && req.body.price){\r\n    let filterData=models.nftBidmodel.findOne({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});\r\n      filterData.exec(async (err,data)=>{\r\n        if (err) throw err;\r\n        if(data){\r\n          let filterAddress=models.nftBidmodel.find({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" },\"bid.bidder\": { '$regex' : '^'+req.body.bidder+'$', \"$options\": \"i\" }});\r\n          filterAddress.exec(async (err,address)=>{\r\n          if (err) throw err;\r\n          if(address.length>0){\r\n            return res.status(200).json(\"Bidder Address Already Exist Fot this NFT\");\r\n          }\r\n\r\n          else{\r\n            await models.nftBidmodel.findOneAndUpdate({tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }},{\r\n              $push: {'bid': {bidder:req.body.bidder , price:req.body.price,withEither:req.body.withEither,bidTime:new Date(Date.now())}},\r\n            }).exec();\r\n            return res.status(200).json(\"You have Successfully bid for NFT\");\r\n          }\r\n          })\r\n        }\r\n        else{\r\n          await new models.nftBidmodel({\r\n            tokenAddr:req.body.tokenAddr,\r\n            tokenId:req.body.tokenId,\r\n            bid:{bidder:req.body.bidder , price:req.body.price, withEither:req.body.withEither,bidTime:new Date(Date.now())}\r\n          }).save()\r\n          return res.status(200).json(\"You have Successfully bid for NFT\");\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      res.status(500).json(\"Payload / Parameters Are Wrong!\");\r\n    }\r\n  } catch (error) {\r\n  res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/get-nft-bid\",async (req, res) => {\r\n  try{\r\n    if(req.body.tokenId && req.body.tokenAddr){\r\n      let filterData=await models.nftBidmodel.aggregate([\r\n        { $match: {tokenId: String(req.body.tokenId) , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }}},\r\n        { $unwind: '$bid' },\r\n        { $sort: { 'bid.price': -1 }},\r\n        { $group: { _id: {tokenId:'$tokenId',tokenAddr:\"$tokenAddr\"}, bid: { $push: '$bid'}}},\r\n        {$project:{\"tokenId\":\"$_id.tokenId\",\"tokenAddr\":\"$_id.tokenAddr\",_id:0,bid:1}}\r\n      ]).exec();\r\n\r\n        if(filterData){\r\n          return res.status(200).json(filterData);\r\n        }\r\n        else{\r\n          return res.status(200).json(\"No Bid Found For this NFT\");\r\n        }}\r\n    else{\r\n      res.status(500).json(\"Payload / Parameters Are Wrong!\");\r\n    }\r\n  } catch (error) {\r\n  res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/user-bid-for-nft\",async (req, res) => {\r\n  try{\r\n    if(req.body.walletAddress){\r\n    let filterData=models.nftBidmodel.find({\"bid.bidder\": { '$regex' : '^'+req.body.bidder+'$', \"$options\": \"i\" }});\r\n      filterData.exec(async (err,data)=>{\r\n        if (err) throw err;\r\n        if(data.length>0){\r\n          return res.status(200).json(data);\r\n        }\r\n        else{\r\n          return res.status(200).json(\"No Bid Found For this NFT\");\r\n        }\r\n      })\r\n    }\r\n    else{\r\n      res.status(500).json(\"Payload / Parameters Are Wrong!\");\r\n    }\r\n  } catch (error) {\r\n  res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/external-nft\",(req, res) => {\r\n  try{\r\n    let query;\r\n    if(parseInt(req.body.chainId)==56 || String(req.body.chainId)==\"0x38\"){\r\n      query={\r\n        owner:{ '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" },\r\n        $or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}],\r\n        $and:[\r\n          {tokenAddr: {$ne:\"0xB2D4C7AfFa1B01fa33C82A8aC63075BD366df4b0\"}},\r\n          {tokenAddr: {$ne:\"0x5b31d474dcadc1c2a1dfc7d4562b2268b0feea43\"}},\r\n          {tokenAddr: {$ne:\"0xA84ABA462A3dc12A5874c8D0D61d757256C905a5\"}},\r\n          {tokenAddr: {$ne:\"0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE\"}},\r\n          {tokenAddr: {$ne:\"0x69903cd9dBBEC1bcaB81E1ffe003260e9e487Ca4\"}},\r\n          {tokenAddr: {$ne:\"0xe9e7cea3dedca5984780bafc599bd69add087d56\"}}\r\n        ],\r\n      }\r\n    }\r\n    else if(parseInt(req.body.chainId)==97 || String(req.body.chainId)==\"0x61\"){\r\n      query={\r\n        owner:{ '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" },\r\n        $or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}],\r\n        $and:[\r\n          {tokenAddr: {$ne:\"0x69536bdf4B18499181EB386B0E4019a28C4Fb096\"}},\r\n          {tokenAddr: {$ne:\"0xA4fb840986B10aC44aA893793cfe755c81c3740D\"}},\r\n          {tokenAddr: {$ne:\"0xBec98ca675EE0099E7eaF0d626a38abAE42Ef24D\"}},\r\n          {tokenAddr: {$ne:\"0x2514895c72f50D8bd4B4F9b1110F0D6bD2c97526\"}},\r\n          {tokenAddr: {$ne:\"0x51c19275686d84c1553f3edd2945dba6ec0c7de4\"}},\r\n          {tokenAddr: {$ne:\"0x8301f2213c0eed49a7e28ae4c3e91722919b8b47\"}}\r\n        ],\r\n      }\r\n    }\r\n    else if(parseInt(req.body.chainId)==4 || String(req.body.chainId)==\"0x4\"){\r\n      query={\r\n        owner:{ '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" },\r\n        $or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}],\r\n        $and:[\r\n          {tokenAddr: {$ne:\"0xDB753bacDFb788c4d70CEc237F898db21017B11d\"}},\r\n          {tokenAddr: {$ne:\"0x848655Ccc2E571cA9470954BF08C4Eab3436830B\"}},\r\n          {tokenAddr: {$ne:\"0x8A36a5395CAa70da6545f030BFB659Fc8e820A59\"}}\r\n        ],\r\n      }\r\n    }\r\n    else if(parseInt(req.body.chainId)==1 || String(req.body.chainId)==\"0x1\"){\r\n      query={\r\n        owner:{ '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" },\r\n        chainId:{decimal:1,hexa:\"0x1\"},\r\n      }\r\n    }\r\n    else if(parseInt(req.body.chainId)==137 || String(req.body.chainId)==\"0x89\"){\r\n      query={\r\n        owner:{ '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" },\r\n        $or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}],\r\n      }\r\n    }\r\n    else if(parseInt(req.body.chainId)==80001 || String(req.body.chainId)==\"0x13881\"){\r\n      query={\r\n        owner:{ '$regex' : '^'+req.body.owner+'$', \"$options\": \"i\" },\r\n        $or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}],\r\n      }\r\n    }\r\n    let externalNft= models.nftControllerModel.find(query)\r\n    externalNft.exec((err,data)=>{\r\n      if(err) throw err;\r\n      res.status(200).json(data)\r\n    })\r\n  }\r\n  catch(err) {\r\n    console.error(err);\r\n  }\r\n})\r\n\r\nroutes.post(\"/insert-multiple-nft\",async (req, res) => {\r\n  try{\r\n    if(req.body.nfts.length<1){\r\n      res.status(400).json({message:\"NFT array not defined\"})\r\n    }\r\n    else{\r\n      let nfts=req.body.nfts;\r\n      let i=0;\r\n      storeNFT(0);\r\n      async function storeNFT(i){\r\n        let check = await models.nftControllerModel.findOne({tokenId: nfts[i].tokenId , tokenAddr: { '$regex' : '^'+nfts[i].tokenAddr+'$', \"$options\": \"i\" }}).exec();\r\n        if(check==null){\r\n           await new models.nftControllerModel({\r\n              tokenAddr: nfts[i].tokenAddr,\r\n              tokenId: nfts[i].tokenId,\r\n              price: nfts[i].price,\r\n              owner:nfts[i].ownerOf,\r\n              metadata: nfts[i].metadata,\r\n              selectedCat:nfts[i].selectedCat,\r\n              tokenUri:nfts[i].tokenUri,\r\n              chainId:nfts[i].chainId,\r\n              relatedCollectionId:nfts[i].relatedCollectionId,\r\n              status:\"pending\",\r\n              withEther:nfts[i].withEther\r\n          }).save();\r\n        }\r\n        if(i==nfts.length-1){\r\n          res.status(200).json({message:\"Successfully stored\"})\r\n        }\r\n        else{\r\n          i++;\r\n          await storeNFT(i);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  catch(err) {\r\n    console.error(err);\r\n  }\r\n})\r\n\r\nroutes.post(\"/search-nft\",(req, res) => {\r\n  if (req.body.name !==undefined && req.body.name !== null && req.body.name !== false){\r\n    let decimal=parseInt(req.body.chainId);\r\n    let limitedNft=models.nftControllerModel.find({\"metadata.name\": { $regex:'.*' + req.body.name + \".*\", $options: 'i'},\"chainId.decimal\":decimal}).skip((req.body.page-1)*req.body.size).limit(req.body.size);\r\n      models.nftControllerModel.countDocuments({\"metadata.name\": { $regex:'.*' + req.body.name + \".*\", $options: 'i'},\"chainId.decimal\":decimal}, function(err, count) {\r\n        let totalPage=Math.ceil(count/req.body.size);\r\n        limitedNft.exec((err,data)=>{\r\n          if(err) throw err;\r\n          if(data[0]!==undefined && data[0]!==null){\r\n            res.status(202).json({nft:data,totalPage:totalPage})\r\n          }\r\n          else{\r\n            res.status(500).json({message:\"No NFT found\"})\r\n          }\r\n        })\r\n      })\r\n  }\r\n  else{\r\n    res.status(500).json({message:\"Data is not defined\"})\r\n  }\r\n})\r\n\r\nroutes.post(\"/update-nft-status\",auth,(req, res) => {\r\n  let filterData=models.nftControllerModel.findOne({tokenId: req.body.tokenId , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});\r\n  filterData.exec((err,data)=>{\r\n    if (err) throw err;\r\n    if(data!==undefined && data!==null){\r\n      let updateNft= models.nftControllerModel.findOneAndUpdate({tokenId: req.body.tokenId , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }},{\r\n        status: req.body.status,\r\n      })\r\n      updateNft.exec((err)=>{\r\n        if(err) throw err;\r\n        res.status(200).json({message:\"Status Updated Successfully\"})\r\n      })\r\n    }\r\n    else{\r\n      res.status(400).json({message:\"Nft not found\"})\r\n    }\r\n})\r\n\r\n})\r\n\r\nroutes.post(\"/lowest-price-nft/v2\",async (req, res) => {\r\n  try{\r\n  let filterData=await models.collectionModel.aggregate([\r\n    {$match : {name:req.body.name}},\r\n    {$lookup: {\r\n        \"from\": \"nftcontrollers\",\r\n        \"let\": {token: \"$tokens\"},\r\n        pipeline: [\r\n          {\r\n            \"$match\": {\r\n              \"$expr\": {\r\n                $and:\r\n\t\t\t\t\t\t\t\t\t\t[{$in: [\"$tokenAddr\", \"$$token.tokenAddress\"]},{$in: [{ $toInt: \"$tokenId\"}, \"$$token.tokenId\"]},{$or: [{$in:[\"$chainId.decimal\", \"$$token.chainId\"]}, {$in:[\"$chainId.hexa\", \"$$token.chainId\"]}]} ]\r\n\t\t\t\t\t\t\t\t}\r\n            },\r\n          },\r\n        ],\r\n        as: \"details\"\r\n      }} ,\r\n      { $unwind : \"$details\" },\r\n      { $match: {'details.price':{$exists:true} }},\r\n      { \"$sort\": {\"details.price\":1} },\r\n      { $limit : 1 }\r\n  ]).exec();\r\n  if(filterData[0]){\r\n    res.status(200).json(filterData[0].details);\r\n  }\r\n  else{\r\n    res.status(500).json(\"data not found\");\r\n  }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/lowest-price-nft\",async (req, res) => {\r\n  try{\r\n  let filterData = await models.nftControllerModel.find({$or:[{\"chainId.decimal\":parseInt(req.body.chainId)},{\"chainId.hexa\":String(req.body.chainId)}],price:{$exists:true}}).sort({price:1}).limit(1).lean().exec();\r\n  if(filterData[0]){\r\n    res.status(200).json(filterData[0]);\r\n  }\r\n  else{\r\n    res.status(500).json(\"data not found\");\r\n  }\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/most-liked-nft\",async (req, res) => {\r\n  let limit=parseInt(req.body.size);\r\n  let page=parseInt(req.body.page);\r\n  let decimal=parseInt(req.body.chainId);\r\n  let filterData=await models.nftControllerModel.aggregate([\r\n    {$match : {isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}},\r\n    {$lookup: {\r\n      from: \"viewandlikes\", // collection to join\r\n      let: {tokenAddr: \"$tokenAddr\", tokenId: \"$tokenId\"},\r\n\t\t\t\t\tpipeline: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$match:\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t$expr:\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t$and:\r\n\t\t\t\t\t\t\t\t\t\t\t\t[{$eq: [\"$tokenAddr\", \"$$tokenAddr\"]},{$eq: [\"$tokenId\", \"$$tokenId\"]} ]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n      as: \"likes\"// output array field\r\n      }},\r\n      { $unwind : \"$likes\" },\r\n      {$addFields: {\"likes\": \"$likes.likes\"}},\r\n      { \"$sort\": {\"likes\":-1} },\r\n      {$facet: {\r\n        data: [\r\n          { $skip : (page-1)*limit},\r\n          { $limit : limit }\r\n        ],\r\n        Total:[\r\n          { $group:{ _id :null ,count:{$sum:1}}}\r\n        ]\r\n      }}\r\n  ]).exec();\r\n  let count=0;\r\n  if(filterData){\r\n    count=filterData[0].Total[0].count;\r\n  }\r\n  let totalPage=Math.ceil(count/req.body.size);\r\n  res.status(200).json({mostLikedNft:filterData[0].data,totalPage:totalPage});\r\n})\r\n\r\nroutes.post(\"/least-liked-nft\",async (req, res) => {\r\n  let limit=parseInt(req.body.size);\r\n  let page=parseInt(req.body.page);\r\n  let decimal=parseInt(req.body.chainId);\r\n  let filterData=await models.nftControllerModel.aggregate([\r\n    {$match : {isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}},\r\n    {$lookup: {\r\n      from: \"viewandlikes\", // collection to join\r\n      let: {tokenAddr: \"$tokenAddr\", tokenId: \"$tokenId\"},\r\n\t\t\t\t\tpipeline: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$match:\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t$expr:\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t$and:\r\n\t\t\t\t\t\t\t\t\t\t\t\t[{$eq: [\"$tokenAddr\", \"$$tokenAddr\"]},{$eq: [\"$tokenId\", \"$$tokenId\"]} ]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n      as: \"likes\"// output array field\r\n      }},\r\n      { $unwind : \"$likes\" },\r\n      {$addFields: {\"likes\": \"$likes.likes\"}},\r\n      { \"$sort\": {\"likes\":1} },\r\n      {$facet: {\r\n        data: [\r\n          { $skip : (page-1)*limit},\r\n          { $limit : limit }\r\n        ],\r\n        Total:[\r\n          { $group:{ _id :null ,count:{$sum:1}}}\r\n        ]\r\n      }}\r\n  ]).exec();\r\n  let count=0;\r\n  if(filterData){\r\n    count=filterData[0].Total[0].count;\r\n  }\r\n  let totalPage=Math.ceil(count/req.body.size);\r\n  res.status(200).json({leastLikedNft:filterData[0].data,totalPage:totalPage});\r\n})\r\n\r\nroutes.post(\"/price-range-nft\",(req, res) => {\r\n  let decimal=parseInt(req.body.chainId);\r\n  let filterData=models.nftControllerModel.find({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal,price:{$gt:req.body.startPrice,$lt:req.body.endPrice}}).skip((req.body.page-1)*req.body.size).limit(req.body.size);\r\n  models.nftControllerModel.countDocuments({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal,price:{$gt:req.body.startPrice,$lt:req.body.endPrice}}, function(err, count) {\r\n    let totalPage=Math.ceil(count/req.body.size);  \r\n    filterData.exec(async(err,data)=>{\r\n      if (err) throw err;\r\n      if(data[0]==undefined || data[0]==null){\r\n        res.status(200).json({message:\"No NFT found in this Price range\",totalPage:totalPage,errs:true});\r\n      }\r\n      else{\r\n        res.status(200).json({nft:data,totalPage:totalPage});\r\n      }\r\n    })\r\n  })\r\n})\r\n\r\nroutes.post(\"/oldest-nft\",(req, res) => {\r\n  try{\r\n    let decimal=parseInt(req.body.chainId);\r\n    let filterData=models.nftControllerModel.find({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}).sort({$natural:1}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size));\r\n    models.nftControllerModel.countDocuments({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}, function(err, count) {\r\n      let totalPage=Math.ceil(count/parseInt(req.body.size));  \r\n      filterData.exec(async(err,data)=>{\r\n          if (err) throw err;\r\n          if(data[0]==undefined || data[0]==null){\r\n            res.status(200).json({message:\"No NFT found\",errs:true});\r\n          }\r\n          else{\r\n            res.status(200).json({nft:data,totalPage:totalPage});\r\n          }\r\n      })\r\n    })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.post(\"/newest-nft\",(req, res) => {\r\n  try{\r\n  let decimal=parseInt(req.body.chainId);\r\n  let filterData=models.nftControllerModel.find({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}).sort({$natural:-1}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size));\r\n    models.nftControllerModel.countDocuments({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}, function(err, count) {\r\n      let totalPage=Math.ceil(count/parseInt(req.body.size));  \r\n      filterData.exec(async(err,data)=>{\r\n          if (err) throw err;\r\n          if(data[0]==undefined || data[0]==null){\r\n            res.status(200).json({message:\"No NFT found\",errs:true});\r\n          }\r\n          else{\r\n            res.status(200).json({nft:data,totalPage:totalPage});\r\n          }\r\n      })\r\n    })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.get(\"/count-nft\",(req, res) => {\r\n  models.nftControllerModel.countDocuments({}, function(err, count) {\r\n    res.status(202).json(count)\r\n  })\r\n})\r\n\r\nroutes.post(\"/nft-pagination\",(req, res) => {\r\n  let limitedNft=models.nftControllerModel.find({}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size));\r\n  models.nftControllerModel.countDocuments({}, function(err, count) {\r\n    let totalPage=Math.ceil(count/parseInt(req.body.size));\r\n    limitedNft.exec((err,data)=>{\r\n      if(err) throw err;\r\n      res.status(202).json({nft:data,totalPage:totalPage})\r\n    })\r\n  })\r\n})\r\n\r\nroutes.post(\"/collection-pagination\",(req, res) => {\r\n  try{\r\n  let limitedCollection=models.collectionModel.find({category:req.body.category}).skip((parseInt(req.body.page)-1)*parseInt(req.body.size)).limit(parseInt(req.body.size)).lean();\r\n  models.collectionModel.countDocuments({category:req.body.category}, function(err, count) {\r\n    let totalPage=Math.ceil(count/parseInt(req.body.size));\r\n    limitedCollection.exec((err,data)=>{\r\n      if(err) throw err;\r\n      res.status(202).json({collection:data,totalPage:totalPage})\r\n    })\r\n  })\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Some thing went wrong\" , error:error.message});\r\n}\r\n})\r\n\r\nroutes.get(\"/feature-nft\",(req, res) => {\r\n  var nftdata=models.nftControllerModel.find({featured: true});\r\n  nftdata.exec()\r\n  .then((data)=>{\r\n    if(data[0]!==undefined && data[0]!==null){\r\n      res.status(200).json(data)\r\n    }\r\n    else{\r\n      res.status(400).json({message:\"No any Nft is featured\"})\r\n    }\r\n  })\r\n  .catch((err)=>res.status(500).json({ message: error.toString()}))\r\n})\r\n\r\nroutes.post(\"/feature-nft\",auth,(req, res) => {\r\n  models.nftControllerModel.countDocuments({featured: true}, function(err, documents) {\r\n    if(documents==10 && req.body.isFeatured==true){\r\n      res.status(202).json({message:\"Feature nft limit exceed\"})\r\n    }\r\n    else if(documents==3 && req.body.isFeatured==false){\r\n      res.status(202).json({message:\"Minimum 3 should be featured\"})\r\n    }\r\n    else{\r\n      let filterData=models.nftControllerModel.findOne({tokenId: req.body.tokenId , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }});\r\n      filterData.exec((err,data)=>{\r\n        if (err) throw err;\r\n        if(data!==undefined && data!==null){\r\n          if(data.status==\"active\"){\r\n            let updateNft= models.nftControllerModel.findOneAndUpdate({tokenId: req.body.tokenId , tokenAddr: { '$regex' : '^'+req.body.tokenAddr+'$', \"$options\": \"i\" }},{\r\n              featured: req.body.isFeatured,\r\n            })\r\n            updateNft.exec((err)=>{\r\n              if(err) throw err;\r\n              res.status(200).json({message:\"Nft Updated Successfully\"})\r\n            })\r\n        }\r\n        else{\r\n          res.status(400).json({message:\"Nft not activated\"})\r\n        }\r\n      }\r\n        else{\r\n          res.status(400).json({message:\"Nft not found\"})\r\n        }\r\n      })\r\n    }\r\n  })\r\n})\r\n\r\nroutes.post(\"/count-nft-category-vise\",(req, res) => {\r\n  if (req.body.category ==undefined && req.body.category == null && req.body.category == false){\r\n    res.status(500).json({message:\"Data is not defined\"})\r\n  }\r\n  else if(req.body.category==\"All NFTs\"){\r\n    models.nftControllerModel.countDocuments({}, function(err, count) {\r\n      res.status(202).json(count)\r\n    })\r\n  }\r\n  else{\r\n    models.nftControllerModel.countDocuments({selectedCat:req.body.category}, function(err, count) {\r\n      res.status(202).json(count)\r\n    })\r\n  }\r\n})\r\n\r\nroutes.post(\"/nft-category-vise\",(req, res) => {\r\n  if(req.body.isMarketPlace){\r\n    if (req.body.category ==undefined && req.body.category == null && req.body.category == false){\r\n      res.status(200).json({message:\"Data is not defined\"})\r\n    }\r\n    else if(req.body.category==\"All NFTs\"){\r\n      let decimal=parseInt(req.body.chainId);\r\n        let limitedNft=models.nftControllerModel.find({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}).skip((req.body.page-1)*req.body.size).limit(req.body.size);\r\n        models.nftControllerModel.countDocuments({isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}, function(err, count) {\r\n        let totalPage=Math.ceil(count/req.body.size);\r\n        limitedNft.exec((err,data)=>{\r\n          if(err) throw err;\r\n          if(data[0]!==undefined && data[0]!==null){\r\n            res.status(202).json({nft:data,totalPage:totalPage})\r\n          }\r\n          else{\r\n            res.status(200).json({message:\"No NFT found\"})\r\n          }\r\n        })\r\n      })\r\n    }\r\n    else{\r\n      let decimal=parseInt(req.body.chainId);\r\n        let limitedNft=models.nftControllerModel.find({selectedCat:req.body.category,isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}).skip((req.body.page-1)*req.body.size).limit(req.body.size);\r\n        models.nftControllerModel.countDocuments({selectedCat:req.body.category,isOnSell:true,status:\"active\",\"chainId.decimal\":decimal}, function(err, count) {\r\n          if (err) throw err;\r\n          if(count == undefined || count == null || count == false || count == 0){\r\n            res.status(200).json({message:\"No NFT found for this Category\"})\r\n          }\r\n          else{\r\n            let totalPage=Math.ceil(count/req.body.size);\r\n            limitedNft.exec((err,data)=>{\r\n              if(err) throw err;\r\n              if(data[0]!==undefined && data[0]!==null){\r\n                res.status(202).json({nft:data,totalPage:totalPage})\r\n              }\r\n              else{\r\n                res.status(200).json({message:\"No NFT found for this Category\"})\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  else{\r\n    let limitedNft=models.nftControllerModel.find({}).skip((req.body.page-1)*req.body.size).limit(req.body.size);\r\n      models.nftControllerModel.countDocuments({}, function(err, count) {\r\n      let totalPage=Math.ceil(count/req.body.size);\r\n      limitedNft.exec((err,data)=>{\r\n        if(err) throw err;\r\n        if(data[0]!==undefined && data[0]!==null){\r\n          res.status(202).json({nft:data,totalPage:totalPage})\r\n        }\r\n        else{\r\n          res.status(200).json({message:\"No NFT found\"})\r\n        }\r\n      })\r\n    })\r\n  }\r\n})\r\n\r\nconst filePath = path.join(__dirname,\"../\",\"../public/sliderimage/\");\r\n// for file upload\r\nvar Storage=multer.diskStorage({\r\n  destination:filePath,\r\n  filename:(req,file,cb)=>{\r\n    cb(null,uuid.v4()+path.extname(file.originalname))\r\n  }\r\n})\r\n\r\nvar upload=multer({\r\n  storage:Storage\r\n}).single('pic');\r\n \r\n\r\nroutes.post(\"/add_slider\",auth,upload,(req,res)=>{\r\n  if(req.file == undefined){\r\n    res.status(\"400\").json({message:\"Image is Required\"})\r\n  }\r\n  else if(req.body.link == undefined){\r\n    res.status(\"400\").json({message:\"Link is Required\"})\r\n  }\r\n  else{\r\n    models.uploadSliderModel.countDocuments({}, function(err, documents) {\r\n      if(documents==10){\r\n        res.status(202).json({msg:\"slider limit exceed\"})\r\n      }\r\n      else{\r\n      fs.readFile(req.file.path, (err, data) => {\r\n        if (err) throw err;\r\n        const params = {\r\n            Bucket: 'closedsea', // pass your bucket name\r\n            Key: req.file.filename, // file will be saved\r\n            ACL: \"public-read\",\r\n            ContentType: req.file.mimetype,\r\n            Body: data\r\n        };\r\n        s3.upload(params, function(s3Err, data) {\r\n            if (s3Err) throw s3Err\r\n            let uploadslider= new models.uploadSliderModel({\r\n              link: req.body.link,\r\n              imageUrl:data.Location\r\n            })\r\n            uploadslider.save((err)=>{\r\n              if(err) throw err;\r\n              res.status(200).json({message:\"Success\"})\r\n            })\r\n        });\r\n      });\r\n    }\r\n});\r\n}\r\n});\r\n\r\nroutes.post(\"/update_slider\",auth,upload,(req,res)=>{\r\n  if(req.file == undefined){\r\n    res.status(400).json({message:\"Image is Required\"})\r\n  }\r\n  else if(req.body.link == undefined){\r\n    res.status(400).json({message:\"Link is Required\"})\r\n  }\r\n  else{\r\n  console.log(req.file);\r\n  fs.readFile(req.file.path, (err, data) => {\r\n    if (err) throw err;\r\n    const params = {\r\n        Bucket: 'closedsea', // pass your bucket name\r\n        Key: req.file.filename, // file will be saved as testBucket/contacts.csv\r\n        ACL: \"public-read\",\r\n        ContentType: req.file.mimetype,\r\n        Body: data\r\n    };\r\n    s3.upload(params, function(s3Err, data) {\r\n        if (s3Err) throw s3Err\r\n        let uploadslider= models.uploadSliderModel.findOneAndUpdate({_id:req.body.id},{\r\n          link: req.body.link,\r\n          imageUrl:data.Location\r\n        })\r\n        uploadslider.exec((err)=>{\r\n          if(err) throw err;\r\n          res.status(200).json({message:\"Success\"})\r\n        })\r\n    });\r\n });\r\n}\r\n});\r\n\r\nroutes.delete(\"/delete_slider/:id\",auth,upload,(req,res)=>{\r\n  let url=req.query.q.split(\".com/\")[1] ;\r\n  var deleteSlider= models.uploadSliderModel.findOneAndDelete({_id:req.params.id});\r\n  s3.deleteObject({\r\n    Bucket: \"closedsea\",\r\n    Key: url\r\n  },function (err,data){\r\n    deleteSlider.exec(function(err){\r\n      if(err) throw err;\r\n      res.status(200).json({message:\"Successfully deleted\"})\r\n  })\r\n  })\r\n});\r\n\r\nroutes.get(\"/getsliders\",(req,res)=>{\r\n  let filterData=models.uploadSliderModel.find();\r\n  filterData.exec(function(err,data){\r\n    if(err) throw err;\r\n    if(data){\r\n      res.status(200).json(data)\r\n    }\r\n  });\r\n})\r\n\r\nroutes.route(\"/search\").get(async (req, res) => {\r\n  try {\r\n    const { name } = req.query;\r\n    console.log(name);\r\n    if(name){\r\n    const collections = await models.collectionModel.find({ name: { $regex:'^' + name, $options: 'i'} });\r\n    const users = await models.userModel.find({ userName: { $regex:'^' + name, $options: 'i'} });\r\n    \r\n    res.status(200).json({\r\n      message: \"success\",\r\n\r\n      data: {\r\n        collections,\r\n        users,\r\n      },\r\n    });}\r\n    else{\r\n      res.status(200).json({\r\n        message: \"success\",\r\n  \r\n        data: {\r\n          collections:\"\",\r\n          users:\"\"\r\n        }\r\n    })\r\n  }\r\n  } catch (error) {\r\n    res.status(500).json({ message: error.toString() });\r\n  }\r\n});\r\n\r\nmodule.exports = routes;"],"mappings":"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"}